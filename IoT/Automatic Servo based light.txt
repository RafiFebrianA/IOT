https://wokwi.com/projects/380891378576752641

#include <ESP32Servo.h>

#define ldrPin 4
#define servoapin 18
#define servobpin 19

const float gama = 0.7;
const float rl10 = 50;

Servo servoa;
Servo servob;

bool servoaAtPosition180 = false;
bool servobAtPosition180 = false;

void setup() {
  servoa.attach(servoapin);
  servob.attach(servobpin);
  Serial.begin(115200);
  Serial.println("Hello, ESP32!");
}

void loop() {
  int nilaiLDR = analogRead(ldrPin);
  nilaiLDR = map(nilaiLDR, 4095, 0, 1024, 0); // Mengubah nilai pembacaan sensor LDR dari nilai ADC Arduino menjadi nilai ADC ESP32
  float voltase = nilaiLDR / 1024.0 * 5;
  float resistansi = 2000 * voltase / (1 - voltase / 5);
  float kecerahan = pow(rl10 * 1e3 * pow(10, gama) / resistansi, 1 / gama);
  Serial.print("Kecerahan = ");
  Serial.println(kecerahan);

--------------------------------------------------
  if (kecerahan >= 600) {
    if (!servoaAtPosition180) {
      servoa.write(180);
      servoaAtPosition180 = true;
    }
    if (!servobAtPosition180) {
      servob.write(180);
      servobAtPosition180 = true;
    }
  } else {
    if (servoaAtPosition180) {
      servoa.write(0);
      servoaAtPosition180 = false;
    }
    if (servobAtPosition180) {
      servob.write(0);
      servobAtPosition180 = false;
    }
  }
}
-------------------------------------------------
if (kecerahan >= 600) {
  if (!servoaAtPosition180) {
    servoa.write(180);
    servob.write(180);
    servoaAtPosition180 = true;
  }
} else {
  if (servoaAtPosition180) {
    servoa.write(0);
    servob.write(0);
    servoaAtPosition180 = false;
  }
}
--------------------------------------------------
